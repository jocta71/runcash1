{
  "version": 2,
  "buildCommand": "cd frontend && npm install && npm run build",
  "outputDirectory": "frontend/dist",
  "functions": {
    "api/asaas.js": {
      "memory": 1024,
      "maxDuration": 10
    },
    "api/webhook.js": {
      "memory": 1024,
      "maxDuration": 10
    },
    "api/user.js": {
      "memory": 1024,
      "maxDuration": 10
    },
    "api/strategy.js": {
      "memory": 1024,
      "maxDuration": 10
    },
    "api/roulette.js": {
      "memory": 1024,
      "maxDuration": 10
    },
    "api/ai/query.js": {
      "memory": 1024,
      "maxDuration": 30
    }
  },
  "rewrites": [
    {
      "source": "/api/asaas/(.*)",
      "destination": "/api/asaas.js?operation=$1"
    },
    {
      "source": "/api/webhook/(.*)",
      "destination": "/api/webhook.js?operation=$1"
    },
    {
      "source": "/api/user/(.*)",
      "destination": "/api/user.js?operation=$1"
    },
    {
      "source": "/api/strategy",
      "destination": "/api/strategy.js"
    },
    {
      "source": "/api/roulette/(.*)",
      "destination": "/api/roulette.js?operation=$1"
    },
    {
      "source": "/api/ai/query",
      "destination": "/api/ai/query.js"
    },
    {
      "source": "/api/((?!asaas|webhook|user|strategy|roulette|ai/query).*)",
      "destination": "https://backendapi-production-36b5.up.railway.app/api/$1"
    },
    {
      "source": "/((?!api|_next/static|_next/image|favicon.ico|favicon.svg|logo.png|img/).*)",
      "destination": "/index.html"
    }
  ]
}
